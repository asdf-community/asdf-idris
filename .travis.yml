sudo: true
language: c
os:
  - linux
  - osx

before_script:
  - git clone https://github.com/asdf-vm/asdf.git
  - . asdf/asdf.sh
  - if [ "$(uname -s)" == "Darwin" ]; then brew install cabal-install; fi
  - if [ "$(uname -s)" == "Linux" ]; then sudo apt-get install cabal-install; fi
  - |
    if [ "$(uname -s)" == "Linux" ]; then
      cabal update
      cabal install --verbose=0 --prefix /usr cabal-install
    fi
  - cabal --version

script: asdf plugin-test idris https://github.com/vic/asdf-idris.git 'idris --help'

